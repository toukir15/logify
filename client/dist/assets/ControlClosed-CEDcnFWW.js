import{r as c,a as j,j as t,L as y,u as f}from"./index-C07UJA1Y.js";import{h as i}from"./moment-Cl4UOzQZ.js";import{P as N}from"./Pagination-C5cXu75M.js";const v=()=>{var l,x;const{controlsData:r,controlsDataLoading:p}=c.useContext(j),a=window.location.href.split("/")[7],s=r==null?void 0:r.filter(e=>e.project_id==a&&e.status=="closed");if(p)return t.jsx(y,{});const[n,d]=c.useState(1),h=Math==null?void 0:Math.ceil((s==null?void 0:s.length)/7),m=[...(l=Array(h))==null?void 0:l.keys()],o=7*n,g=f();return t.jsxs("div",{className:"py-10",children:[t.jsxs("table",{className:"w-full",children:[s.length>0&&t.jsxs("thead",{children:[t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Control Name"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Control Owner	"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Control Status"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Control Date"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Control Due Date"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Tags"})]}),t.jsx("tbody",{children:(x=s.slice(o-7,o))==null?void 0:x.map((e,u)=>t.jsxs("tr",{onClick:()=>{g(`/projects/logs/control/closed/${a}/view-control/${e._id}`)},className:"bg-white border-b-[20px] border-light-gray cursor-pointer",children:[t.jsx("td",{className:"py-5 px-4 text-start",children:e.control_name}),t.jsxs("td",{className:"py-5 px-4 text-start",children:[e.control_owner.value," "]}),t.jsxs("td",{className:"py-5 px-4 text-start",children:[e.control_status,e.length>20&&"..."]}),t.jsx("td",{className:"py-5 px-4 text-start",children:t.jsx("p",{className:"bg-[#BBF7D0] w-fit px-3 py-[1px] text-[#158F9C] rounded-full",children:i(e.control_date).format("DD/MM/YYYY")})}),t.jsx("td",{className:"py-5 px-4 text-start",children:t.jsx("p",{className:"bg-[#BBF7D0] w-fit px-3 py-[1px] text-[#158F9C] rounded-full",children:i(e.due_date).format("DD/MM/YYYY")})}),t.jsxs("td",{className:"py-5 px-4 text-start",children:[e.tags[0].value," ",e.tags.length>1&&"..."]})]},u))})]}),s.length>7&&t.jsx("div",{children:t.jsx(N,{paginationData:{totalButtonArray:m,currentPage:n,setCurrentPage:d}})}),!s.length&&t.jsx("div",{className:"text-center text-2xl font-medium text-gray mt-10",children:"No controls here"})]})};export{v as default};
