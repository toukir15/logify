import{r as x,a as S,j as a,b as k}from"./index-Qlug-mrU.js";import{S as y}from"./sweetalert2.all-vimNpCB2.js";import{P as j}from"./Pagination-DOm7UIVf.js";const E=()=>{var d,g;const[n,e]=x.useState("Add Users"),{usersData:o,usersDataRefeatch:b}=x.useContext(S),s=o==null?void 0:o.filter(t=>t.is_verified),[p,N]=x.useState(1),P=Math==null?void 0:Math.ceil(s.length/7),A=[...(d=Array(P))==null?void 0:d.keys()],r=7*p,l=o==null?void 0:o.filter(t=>!t.is_verified),[m,C]=x.useState(1),_=Math==null?void 0:Math.ceil(l.length/7),w=[...(g=Array(_))==null?void 0:g.keys()],h=7*m,u=t=>{y.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete"}).then(B=>{k.delete("/users_api/delete_user",{data:{id:t}}).then(c=>{c.data.deletedCount&&(b(),y.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"}))}).catch(c=>console.log(c))})};return a.jsxs("div",{className:"py-10 px-20",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>e("Add Users"),className:`${n=="Add Users"&&"bg-primary text-white"}  border-primary border py-2 px-4 rounded-s`,children:"Add Users"}),a.jsx("button",{onClick:()=>e("Pending Users"),className:`${n=="Pending Users"&&"bg-primary text-white"}   border-primary border py-2 px-4 rounded-e`,children:"Pending Users"})]}),a.jsxs("div",{children:[n=="Add Users"&&a.jsxs("table",{className:"w-full",children:[s.length>0&&a.jsxs("thead",{children:[a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"First Name"}),a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"Last Name"}),a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"Email"}),a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"Action"})]}),a.jsx("tbody",{children:s.slice(r-7,r).map(t=>a.jsxs("tr",{className:"bg-white border-b-[20px] border-light-gray cursor-pointer",children:[a.jsxs("td",{className:"py-5 px-4 text-start",children:[" ",t==null?void 0:t.first_name]}),a.jsx("td",{className:"py-5 px-4 text-start",children:t==null?void 0:t.last_name}),a.jsx("td",{className:"py-5 px-4 text-start",children:t==null?void 0:t.email}),a.jsx("td",{className:"py-5 px-4 text-start",children:a.jsx("button",{onClick:()=>u(t==null?void 0:t._id),className:"bg-primary text-white py-2 px-4 rounded",children:"Delete"})})]},t==null?void 0:t._id))})]}),s<=0&&n=="Add Users"&&a.jsx("div",{className:"text-center text-2xl font-medium text-gray mt-10",children:"No user here"}),(s==null?void 0:s.length)>7&&n=="Add Users"&&a.jsx("div",{children:a.jsx(j,{paginationData:{totalButtonArray:A,currentPage:p,setCurrentPage:N}})})]}),a.jsxs("div",{children:[n=="Pending Users"&&a.jsxs("table",{className:"w-full",children:[(l==null?void 0:l.length)>0&&a.jsxs("thead",{children:[a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"First Name"}),a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"Last Name"}),a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"Email"}),a.jsx("th",{className:"text-start pt-4 pb-8 px-[14px] text-gray font-normal",children:"Action"})]}),a.jsx("tbody",{children:l.slice(h-7,h).map((t,B)=>a.jsxs("tr",{className:"bg-white border-b-[20px] border-light-gray cursor-pointer",children:[a.jsx("td",{className:`py-5 px-4 text-start ${!(t!=null&&t.first_name)&&"text-gray"}`,children:t!=null&&t.first_name?t==null?void 0:t.first_name:"update soon"}),a.jsx("td",{className:`py-5 px-4 text-start ${!(t!=null&&t.last_name)&&"text-gray"}`,children:t!=null&&t.last_name?t==null?void 0:t.last_name:"update soon"}),a.jsx("td",{className:"py-5 px-4 text-start",children:t==null?void 0:t.email}),a.jsx("td",{className:"py-5 px-4 text-start",children:a.jsx("button",{onClick:()=>u(t==null?void 0:t._id),className:"bg-primary text-white py-2 px-4 rounded",children:"Delete"})})]},t==null?void 0:t._id))})]}),l<=0&&n=="Pending Users"&&a.jsx("div",{className:"text-center text-2xl font-medium text-gray mt-10",children:"No user here"}),l.length>7&&n=="Pending Users"&&a.jsx("div",{children:a.jsx(j,{paginationData:{totalButtonArray:w,currentPage:m,setCurrentPage:C}})})]})]})};export{E as default};
