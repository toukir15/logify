import{r as c,a as j,j as t,L as u,u as y}from"./index-C07UJA1Y.js";import{P as N}from"./Pagination-C5cXu75M.js";const k=()=>{var o,l;const{risksData:r,risksDataLoading:x}=c.useContext(j),a=window.location.href.split("/")[7],s=r==null?void 0:r.filter(e=>e.project_id==a&&e.status=="open");if(x)return t.jsx(u,{});const[n,p]=c.useState(1),d=Math==null?void 0:Math.ceil((s==null?void 0:s.length)/7),h=[...(o=Array(d))==null?void 0:o.keys()],i=7*n,m=y();return t.jsxs("div",{className:"py-10",children:[t.jsxs("table",{className:"w-full",children:[s.length>0&&t.jsxs("thead",{children:[t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Risk Category"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Risk Name"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Risk Description"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Rating"}),t.jsx("th",{className:"text-start pt-4 pb-8 px-3 text-gray font-normal",children:"Risk Cause"})]}),t.jsx("tbody",{children:(l=s.slice(i-7,i))==null?void 0:l.map((e,g)=>t.jsxs("tr",{onClick:()=>{m(`/projects/logs/risk/open/${a}/view-risk/${e._id}`)},className:"bg-white border-b-[20px] border-light-gray cursor-pointer",children:[t.jsx("td",{className:"py-5 px-4 text-start",children:e.risk_category.value}),t.jsxs("td",{className:"py-5 px-4 text-start",children:[e.risk_name," "]}),t.jsx("td",{className:"py-5 px-4 text-start",children:e.risk_description}),t.jsx("td",{className:"py-5 px-4 text-start",children:e.ratting.value}),t.jsx("td",{className:"py-5 px-4 text-start",children:e.risk_cause})]},g))})]}),s.length>7&&t.jsx("div",{children:t.jsx(N,{paginationData:{totalButtonArray:h,currentPage:n,setCurrentPage:p}})}),!s.length&&t.jsx("div",{className:"text-center text-2xl font-medium text-gray mt-10",children:"No risks here"})]})};export{k as default};
